{"ast":null,"code":"var _jsxFileName = \"/Users/Kate/Desktop/react-link-service/src/components/AvatarInput.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from 'react';\nimport styles from './AvatarInput.module.css';\nimport Avatar from './Avatar';\nimport Button from './Button';\nimport UploadImage from '../assets/upload.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AvatarInput({\n  className,\n  initialAvatar,\n  name,\n  onChange\n}) {\n  _s();\n  const [file, setFile] = useState(null);\n  const [avatar, setAvatar] = useState(initialAvatar);\n  const inputRef = useRef();\n  function handleChange(e) {\n    const file = e.target.files[0];\n    setFile(file);\n    onChange(name, file);\n  }\n  function handleUploadClick() {\n    var _inputRef$current;\n    (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.click();\n  }\n  useEffect(() => {\n    if (!file) {\n      setAvatar('');\n      return;\n    }\n    const blobUrl = URL.createObjectURL(file);\n    setAvatar(blobUrl);\n    return () => {\n      URL.revokeObjectURL(blobUrl);\n    };\n  }, [file]);\n  useEffect(() => {\n    setAvatar(initialAvatar);\n  }, [initialAvatar]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${styles.AvatarInput} ${className}`,\n    children: [/*#__PURE__*/_jsxDEV(Avatar, {\n      size: \"large\",\n      src: avatar,\n      alt: \"\\uC544\\uBC14\\uD0C0 \\uC774\\uBBF8\\uC9C0 \\uBBF8\\uB9AC\\uBCF4\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"button\",\n      className: styles.UploadButton,\n      appearance: \"secondary\",\n      onClick: handleUploadClick,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: UploadImage,\n        alt: \"\\uC5C5\\uB85C\\uB4DC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), \"\\uC0AC\\uC9C4 \\uC5C5\\uB85C\\uB4DC\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: styles.HiddenInput,\n      type: \"file\",\n      onChange: handleChange,\n      ref: inputRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(AvatarInput, \"qNCCyPrhCJFWTpIE4t64Rrije7k=\");\n_c = AvatarInput;\nexport default AvatarInput;\nvar _c;\n$RefreshReg$(_c, \"AvatarInput\");","map":{"version":3,"names":["useEffect","useRef","useState","styles","Avatar","Button","UploadImage","jsxDEV","_jsxDEV","AvatarInput","className","initialAvatar","name","onChange","_s","file","setFile","avatar","setAvatar","inputRef","handleChange","e","target","files","handleUploadClick","_inputRef$current","current","click","blobUrl","URL","createObjectURL","revokeObjectURL","children","size","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","type","UploadButton","appearance","onClick","HiddenInput","ref","_c","$RefreshReg$"],"sources":["/Users/Kate/Desktop/react-link-service/src/components/AvatarInput.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\nimport styles from './AvatarInput.module.css';\nimport Avatar from './Avatar';\nimport Button from './Button';\nimport UploadImage from '../assets/upload.svg';\n\nfunction AvatarInput({ className, initialAvatar, name, onChange }) {\n  const [file, setFile] = useState(null);\n  const [avatar, setAvatar] = useState(initialAvatar);\n  const inputRef = useRef();\n\n  function handleChange(e) {\n    const file = e.target.files[0];\n    setFile(file);\n    onChange(name, file);\n  }\n\n  function handleUploadClick() {\n    inputRef.current?.click();\n  }\n\n  useEffect(() => {\n    if (!file) {\n      setAvatar('');\n      return;\n    }\n\n    const blobUrl = URL.createObjectURL(file);\n    setAvatar(blobUrl);\n\n    return () => {\n      URL.revokeObjectURL(blobUrl);\n    };\n  }, [file]);\n\n  useEffect(() => {\n    setAvatar(initialAvatar);\n  }, [initialAvatar]);\n\n  return (\n    <div className={`${styles.AvatarInput} ${className}`}>\n      <Avatar size=\"large\" src={avatar} alt=\"아바타 이미지 미리보기\" />\n      <Button\n        type=\"button\"\n        className={styles.UploadButton}\n        appearance=\"secondary\"\n        onClick={handleUploadClick}\n      >\n        <img src={UploadImage} alt=\"업로드\" />\n        사진 업로드\n      </Button>\n      <input\n        className={styles.HiddenInput}\n        type=\"file\"\n        onChange={handleChange}\n        ref={inputRef}\n      />\n    </div>\n  );\n}\n\nexport default AvatarInput;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}