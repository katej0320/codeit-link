{"ast":null,"code":"var _jsxFileName = \"/Users/Kate/Desktop/react-link-service/src/pages/SettingPage.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from '../lib/axios';\nimport Label from '../components/Label';\nimport Input from '../components/Input';\nimport Button from '../components/Button';\nimport TextArea from '../components/TextArea';\nimport AvatarInput from '../components/AvatarInput';\nimport styles from './SettingPage.module.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction SettingPage() {\n  _s();\n  const [initialAvatar, setInitialAvatar] = useState('');\n  const [values, setValues] = useState({\n    avatar: '',\n    name: '',\n    email: '',\n    bio: ''\n  });\n  const navigate = useNavigate();\n  async function getMe() {\n    const res = await axios.get('/users/me');\n    const nextUser = res.data;\n    const {\n      avatar,\n      name,\n      email,\n      bio\n    } = nextUser;\n    setValues({\n      name,\n      email,\n      bio\n    });\n    setInitialAvatar(avatar);\n  }\n  function handleChange(name, value) {\n    setValues(prevValues => ({\n      ...prevValues,\n      [name]: value\n    }));\n  }\n  function handleInputChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    handleChange(name, value);\n  }\n  async function handleSubmit(e) {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('avatar', values.avatar);\n    formData.append('name', values.name);\n    formData.append('email', values.email);\n    formData.append('bio', values.bio);\n    await axios.patch('/users/me', formData);\n    navigate('/me');\n  }\n  useEffect(() => {\n    getMe();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: styles.Heading,\n      children: \"\\uD504\\uB85C\\uD544 \\uD3B8\\uC9D1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: styles.Form,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(AvatarInput, {\n        name: \"avatar\",\n        initialAvatar: initialAvatar,\n        className: styles.Input,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Label, {\n        className: styles.Label,\n        htmlFor: \"name\",\n        children: \"\\uC774\\uB984\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        id: \"name\",\n        className: styles.Input,\n        name: \"name\",\n        type: \"text\",\n        placeholder: \"\\uC774\\uB984\",\n        value: values.name,\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Label, {\n        className: styles.Label,\n        htmlFor: \"email\",\n        children: \"\\uC774\\uBA54\\uC77C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        id: \"email\",\n        className: styles.Input,\n        name: \"email\",\n        type: \"email\",\n        placeholder: \"\\uC774\\uBA54\\uC77C\",\n        value: values.email,\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Label, {\n        className: styles.Label,\n        htmlFor: \"bio\",\n        children: \"\\uB0B4 \\uB9C1\\uD06C \\uC18C\\uAC1C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n        id: \"bio\",\n        className: styles.TextArea,\n        name: \"bio\",\n        type: \"text\",\n        maxLength: 64,\n        placeholder: \"\\uC544\\uB798\\uC5D0 \\uB4F1\\uB85D\\uD55C \\uC0AC\\uC774\\uD2B8\\uB4E4\\uACFC \\uC790\\uC2E0\\uC5D0 \\uB300\\uD574 \\uAC04\\uB2E8\\uD558\\uAC8C \\uC18C\\uAC1C\\uD558\\uB294 \\uC124\\uBA85\\uC744 \\uC791\\uC131\\uD574 \\uC8FC\\uC138\\uC694!\",\n        value: values.bio,\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: styles.Button,\n        children: \"\\uC801\\uC6A9\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(SettingPage, \"WvofuUM6dFWS0EVI8xby6IWwBnQ=\", false, function () {\n  return [useNavigate];\n});\n_c = SettingPage;\nexport default SettingPage;\nvar _c;\n$RefreshReg$(_c, \"SettingPage\");","map":{"version":3,"names":["useEffect","useState","useNavigate","axios","Label","Input","Button","TextArea","AvatarInput","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","SettingPage","_s","initialAvatar","setInitialAvatar","values","setValues","avatar","name","email","bio","navigate","getMe","res","get","nextUser","data","handleChange","value","prevValues","handleInputChange","e","target","handleSubmit","preventDefault","formData","FormData","append","patch","children","className","Heading","fileName","_jsxFileName","lineNumber","columnNumber","Form","onSubmit","onChange","htmlFor","id","type","placeholder","maxLength","_c","$RefreshReg$"],"sources":["/Users/Kate/Desktop/react-link-service/src/pages/SettingPage.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from '../lib/axios';\nimport Label from '../components/Label';\nimport Input from '../components/Input';\nimport Button from '../components/Button';\nimport TextArea from '../components/TextArea';\nimport AvatarInput from '../components/AvatarInput';\nimport styles from './SettingPage.module.css';\n\nfunction SettingPage() {\n  const [initialAvatar, setInitialAvatar] = useState('');\n  const [values, setValues] = useState({\n    avatar: '',\n    name: '',\n    email: '',\n    bio: '',\n  });\n  const navigate = useNavigate();\n\n  async function getMe() {\n    const res = await axios.get('/users/me');\n    const nextUser = res.data;\n    const { avatar, name, email, bio } = nextUser;\n    setValues({ name, email, bio });\n    setInitialAvatar(avatar);\n  }\n\n  function handleChange(name, value) {\n    setValues((prevValues) => ({\n      ...prevValues,\n      [name]: value,\n    }));\n  }\n\n  function handleInputChange(e) {\n    const { name, value } = e.target;\n    handleChange(name, value);\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('avatar', values.avatar);\n    formData.append('name', values.name);\n    formData.append('email', values.email);\n    formData.append('bio', values.bio);\n    await axios.patch('/users/me', formData);\n    navigate('/me');\n  }\n\n  useEffect(() => {\n    getMe();\n  }, []);\n\n  return (\n    <>\n      <h1 className={styles.Heading}>프로필 편집</h1>\n      <form className={styles.Form} onSubmit={handleSubmit}>\n        <AvatarInput\n          name=\"avatar\"\n          initialAvatar={initialAvatar}\n          className={styles.Input}\n          onChange={handleChange}\n        />\n        <Label className={styles.Label} htmlFor=\"name\">\n          이름\n        </Label>\n        <Input\n          id=\"name\"\n          className={styles.Input}\n          name=\"name\"\n          type=\"text\"\n          placeholder=\"이름\"\n          value={values.name}\n          onChange={handleInputChange}\n        />\n        <Label className={styles.Label} htmlFor=\"email\">\n          이메일\n        </Label>\n        <Input\n          id=\"email\"\n          className={styles.Input}\n          name=\"email\"\n          type=\"email\"\n          placeholder=\"이메일\"\n          value={values.email}\n          onChange={handleInputChange}\n        />\n        <Label className={styles.Label} htmlFor=\"bio\">\n          내 링크 소개\n        </Label>\n        <TextArea\n          id=\"bio\"\n          className={styles.TextArea}\n          name=\"bio\"\n          type=\"text\"\n          maxLength={64}\n          placeholder=\"아래에 등록한 사이트들과 자신에 대해 간단하게 소개하는 설명을 작성해 주세요!\"\n          value={values.bio}\n          onChange={handleInputChange}\n        />\n        <Button className={styles.Button}>적용하기</Button>\n      </form>\n    </>\n  );\n}\n\nexport default SettingPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}